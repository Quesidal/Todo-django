{% extends 'tasks/base_main_page.html' %}

{% block editing_task %}
    <form class="add-task-form" id="add-task" action="/task/update/{{ selected_task }}" method="post"
          style="display:flex;">
        {% csrf_token %}
        <div class="inputs">
            <input name="text" type="text" class="input edit-task-name" value="{{ task.text }}"/>
            <input name="end_time" class="input change-date" type="datetime-local">
        </div>
        <div class="buttons">
            <input type="submit" class="add" value="add"/>
            <a class="cancel" id='cancel edit' href="/">Cancel</a>
            <select name="priority" id="">
                <option value="L">LOW</option>
                <option selected value="M">MEDIUM</option>
                <option value="H">HIGH</option>
            </select>
            <select name="project" id="">
                {% for project in projects %}
                    <option>{{ project }}</option>
                {% endfor %}
            </select>
        </div>
    </form>
{% endblock %}

{% block display_task %}
    <li class="task">
        <span>
            {% if task.priority == 'L' %}
                <span class="priority" style="background-color: white"></span>
            {% elif task.priority == 'M' %}
                <span class="priority" style="background-color: yellow"></span>
            {% else %}
                <span class="priority" style="background-color: red"></span>
            {% endif %}
            <span class="task-name">{{ task.text }}</span>
        </span>
        <span>
            <span class="project">{{ task.project }}</span>
            <span class="project-tag"></span>
            <span class="task-actions">
                <span class="circle"></span>
                <span class="circle"></span>
                <span class="circle"></span>
                <span class="actions-container">
                    <a class="action-btn" href="/task/update/{{ task.pk }}">Edit</a>
                    <a class="action-btn" href="/task/delete/{{ task.pk }}">Delete</a>
                </span>
            </span>
        </span>
    </li>
{% endblock %}

{% block add_task %}
    <form class="add-task-form" id="add-task" action="/task/add" method="post">
        {% csrf_token %}
        <div class="inputs">
            <input name="text" type="text" class="input edit-task-name" value="ToDo test task"/>
            <input name="end_time" class="input change-date" type="datetime-local">
        </div>
        <div class="buttons">
            <input type="submit" class="add" value="add"/>
            <a class="cancel" id='cancel-task-btn'>Cancel</a>
            <select name="priority" id="">
                <option value="L">LOW</option>
                <option selected value="M">MEDIUM</option>
                <option value="H">HIGH</option>
            </select>
            <select name="project" id="">
                {% for project in projects %}
                    <option>{{ project }}</option>
                {% endfor %}
            </select>
        </div>
    </form>
{% endblock %}

{% block display_project %}
    <li class="project">
        <span>
            <span class="project-tag" style="background-color: burlywood"></span>
            <span class="project-name">{{ project.name }}</span>
            <span class="task-counter">2</span>
        </span>
        <span>
            <span class="project-actions">
                <span class="circle"></span>
                <span class="circle"></span>
                <span class="circle"></span>
                <span class="actions-container">
                    <a class="action-btn" href="/project/update/{{ project.pk }}">Edit</a>
                    <a class="action-btn" href="/project/delete/{{ project.pk }}">Delete</a>
                </span>
            </span>
        </span>
    </li>
{% endblock %}

{% block editing_project %}
    {#    <form class="add-task-form" id="add-task" action="/task/update/{{ selected_task }}" method="post"#}
    {#          style="display:flex;">#}
    {#        {% csrf_token %}#}
    {#        <div class="inputs">#}
    {#            <input name="text" type="text" class="input edit-task-name" value="{{ task.text }}"/>#}
    {#            <input name="end_time" class="input change-date" type="datetime-local">#}
    {#        </div>#}
    {#        <div class="buttons">#}
    {#            <input type="submit" class="add" value="add"/>#}
    {#            <a class="cancel" id='cancel edit' href="/">Cancel</a>#}
    {#            <select name="priority" id="">#}
    {#                <option value="L">LOW</option>#}
    {#                <option selected value="M">MEDIUM</option>#}
    {#                <option value="H">HIGH</option>#}
    {#            </select>#}
    {#            <select name="project" id="">#}
    {#                {% for project in projects %}#}
    {#                    <option>{{ project }}</option>#}
    {#                {% endfor %}#}
    {#            </select>#}
    {#        </div>#}
    {#    </form>#}
{% endblock %}

{% block add_project %}
    <form class="add-proj-form" id="add-proj" action="/project/add" method="post">
        {% csrf_token %}
        <div class="inputs">
            <input name="color" class="input color-proj" type="color">
            <input name="text" type="text" class="input edit-proj-name" value="Project name"/>
        </div>
        <div class="buttons">
            <input type="submit" class="add" value="add"/>
            <a class="cancel" id='cancel-proj-btn'>Cancel</a>
        </div>
    </form>
{% endblock %}